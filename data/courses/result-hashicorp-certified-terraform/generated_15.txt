# Terraform Block with aws provider
terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
    }
  }
}

# Provider aws block with variable region
provider "aws" {
  region = var.region
}

# make variable for aws region with default us east 1
variable "region" {
  default = "us-east-1"
}

# variable app name
variable "app" {
  default = "my-app"
}

# make a variable for the environment name
variable "environment" {
  default = "dev"
}

# Create S3 Bucket, make bucket name var.app_name + var.environment_name + bucket
resource "aws_s3_bucket" "bucket" {
  bucket = var.app_name + "-" + var.environment_name + "-bucket"
}

# Define Local Values
# Define local values for the app name and environment name
locals {
  app_name   = var.app
  environment_name = var.environment
}

# Create S3 Bucket called mys3bucket with private acl and bucket from local.bucket name
resource "aws_s3_bucket" "bucket" {
  bucket = local.bucket
  acl    = "private"
}

