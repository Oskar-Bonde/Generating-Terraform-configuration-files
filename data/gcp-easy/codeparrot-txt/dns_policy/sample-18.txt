terraform {
  required_providers {
    google = {
      source = "hashicorp/google"
    }
  }
}

# google provider block
provider "google" {
}

# create dns policy
resource "google_dns_policy" "dns_policy" {
  name        = "dns-policy-${random_suffix}"
  zone        = "us-central1-a"
  description = "Terraform dns policy"

  # DNS policy
  dns_policy {
    policy_type = "PRIMARY"
    allow_access = true
  }

  # DNS zone
  dns_zone = "us-central1-a"

  # Cloudflare DNS zone
  dns_zone_name = "dsp-envs"

  # Cloudflare record
  record {
    priority = 100
    weight = 1
    port = 3306
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 200
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 300
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 400
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 500
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 600
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 700
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 800
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 900
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 1000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 2000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 3000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 4000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 5000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 6000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 7000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 8000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 9000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 10000
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 100
    weight = 1
    port = 80
    target = "google-site-verification"
  }

  # Cloudflare record
  record {
    priority = 200
    weight = 1
    port = 80
}

