terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
    }
  }
}

# Provider AWS block with region us east

provider "aws" {
  region = "us-east-1"
}

# Create EC2 Instance with ami-0ff8a91507f77f867 and t2.micro

resource "aws_instance" "ec2demo" {
  ami           = "ami-0ff8a91507f77f867"
  instance_type = "t2.micro"
}

# Output block, create public DNS URL from vm
resource "null_resource" "ec2demo_public_dns" {
  provisioner "local-exec" {
    command = <<EOF
      echo "Waiting for cloud-init... "
      echo "  $1"
      echo "  $2"
      echo "  $3"
      echo "  $4"
      echo "  $5"
      echo "  $6"
      echo "  $7"
      echo "  $8"
      echo "  $9"
      echo "  $10"
      echo "  $11"
      echo "  $12"
      echo "  $13"
      echo "  $14"
      echo "  $15"
      echo "  $16"
      echo "  $17"
      echo "  $18"
      echo "  $19"
      echo "  $20"
      echo "  $21"
      echo "  $22"
      echo "  $23"
      echo "  $24"
      echo "  $25"
      echo "  $26"
      echo "  $27"
      echo "  $28"
      echo "  $29"
      echo "  $30"
      echo "  $31"
      echo "  $32"
      echo "  $33"
      echo "  $34"
      echo "  $35"
      echo "  $36"
      echo "  $37"
      echo "  $38"
      echo "  $39"
      echo "  $40"
      echo "  $41"
      echo "  $42"
      echo "  $43"
      echo "  $44"
      echo "  $45"
      echo "  $46"
      echo "  $47"
      echo "  $48"
      echo "  $49"
      echo "  $50"
      echo "  $51"
      echo "  $52"
      echo "  $53"
      echo "  $54"
      echo "  $55"
      echo "  $56"
      echo "  $57"
      echo "  $58"
      echo "  $59"
      echo "  $60"
      echo "  $61"
      echo "  $62"
      echo "  $63"
      echo "  $64"
      echo "  $65"
      echo "  $66"
      echo "  $67"
      echo "  $68"
      echo "  $69"
      echo "  $70"
      echo "  $71"
      echo "  $72"
      echo "  $73"
      echo "  $74"
      echo "  $75"
      echo "  $76"
      echo "  $77"
      echo "  $78"
      echo "  $79"
      echo "  $80"
      echo "  $81"
      echo "  $82"
      echo "  $83"
      echo "  $84"
      echo "  $85"
      echo "  $86"
      echo "  $87"
      echo "  $88"
      echo "  $89"
      echo " 
}

